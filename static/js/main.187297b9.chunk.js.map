{"version":3,"sources":["LoadFile.js","Icons.js","RecordPane.js","ActivityPage.js","SearchPane.js","RecordPage.js","IndexPane.js","Viewer.js","App.js","reportWebVitals.js","index.js"],"names":["LoadFile","props","_React$useState","React","useState","_React$useState2","_slicedToArray","getLunrBuilder","setLunrBuilder","_React$useState3","_React$useState4","getStatus","setStatus","IndexByTime","IndexByProcess","IndexByLevel","IndexByStream","IndexByErrorType","IndexActivity","builder","Builder","ref","field","IndexByTwoLevels","l0","pos","k1","k2","l1","meta","l2","push","clickIncludeLunr","e","setIncludeLunr","getIncludeLunr","BuildIndex","record","id","TimeStamp","length","dt","Date","yyyy","getUTCFullYear","toString","MM","getUTCMonth","dd","getUTCDate","hh","getUTCHours","mm","getUTCMinutes","ss","getUTCSeconds","Time","shortTS","DayTS","Pid","Level","Stream","ErrorType","ActivityId","text","n","Message","indexOf","ver","substr","Version","metaTimeStamp","FirstTS","Agent","m","pid","Parent","add","console","log","addLunrIndex","file","prom","records","endPos","Math","min","msg","then","Promise","resolve","setTimeout","r","lunrIdx","build","populateMetaLevel","onUpdateIndex","index","File","Records","LunrIndex","Index","Name","buildLunrIndex","le1","le2","le3","le4","le5","recs","e1","e2","e3","e4","e5","q","items","_jsx","children","_jsxs","type","className","onClick","document","getElementById","click","style","display","onChange","target","files","promResolve","data","Papa","parse","header","quoteChar","complete","results","accept","Badge","bg","SquareIcon","xmlns","width","height","fill","viewBox","d","HeartIcon","HeartFillIcon","fillRule","PlusSquare","DashSquare","FillSquare","ArrowRightShort","ArrowLeftShort","ReceiptIcon","RecordPane","getRefresh","setRefresh","clickFav","o","UpdateFavorite","RecIndex","rec","md","Number","MDRESULT","mdHex","abs","Container","fluid","pill","l","funcLevel","Tid","Function","Line","ErrorCode","ErrorCodeMsg","Instance","UpdateActivity","activityId","Favorite","ActivityPage","getStartPos","setStartPos","getModal","setModal","itemsPerPage","i","actid","actlist","pages","max","floor","All","_loop","p","Modal","show","onHide","Body","SearchPane","getSearchText","setSearchText","_React$useState5","_React$useState6","size","value","onKeyDown","keyCode","idx","searchResults","search","UpdateSearchResults","message","RecordPage","getItemsPerPage","setItemsPerPage","getPage","setPage","getFilterSearch","setFilterSearch","_React$useState7","_React$useState8","getLocalSearch","setLocalSearch","_React$useState9","_React$useState10","getLocalSearchText","setLocalSearchText","_React$useState11","_React$useState12","getModalShow","setModalShow","_React$useState13","_React$useState14","getActivityModal","setActivityModal","clickItemsPerPage","num","clickShowActivity","actId","searchFound","found","find","SearchRecords","pgs","trunc","Status","modalPages","_loop2","hasFav","pageStart","scrollIntoView","block","SearchText","searchText","marginLeft","start","topHeight","window","innerHeight","IndexPane","getLevel1State","setLevel1State","updateLevel1State","item","state","selParts","Selection","split","icon0","Title","favs","Object","keys","forEach","k","c1","Index2Level","meta1","key","metaagg","Fav","d1","c2","meta2","d2","values","sort","a","b","display1","o1","icon","metaicons","o2","icon2","metaicons2","selKey","fields","updateLevel2State","Viewer","getSelection","setSelection","getRecords","setRecords","getSearchRecords","setSearchRecords","getFavorite","setFavorite","getColSize","setColSize","_React$useState15","_React$useState16","updateRecords","status","clickFavoritePane","sideItems","textAlign","startsWith","isFavoriteSelected","fav","borderBottomStyle","borderWidth","backgroundColor","name","borderRightStyle","App","getIndex","setIndex","reportWebVitals","onPerfEntry","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.187297b9.chunk.js","sourcesContent":["import React from 'react';\nimport Badge from 'react-bootstrap/Badge';\nimport { Builder } from 'lunr';\nimport Papa from 'papaparse';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nfunction LoadFile(props) {\n  const [getLunrBuilder, setLunrBuilder] = React.useState();\n  const [getStatus, setStatus] = React.useState();\n\n  let IndexByTime = {};\n  let IndexByProcess = {};\n  let IndexByLevel = {};\n  let IndexByStream = {};\n  let IndexByErrorType = {};\n  let IndexActivity = {};\n\n  if (!getLunrBuilder) {\n    let builder = new Builder();\n    builder.ref('id');\n    builder.field('ActivityId');\n    builder.field('ErrorCode');\n    builder.field('ErrorCodeMsg');\n    builder.field('ErrorType');\n    builder.field('File');\n    builder.field('Function');\n    builder.field('Instance');\n    builder.field('Level');\n    builder.field('Line');\n    builder.field('MDRESULT');\n    builder.field('Message');\n    builder.field('Pid');\n    builder.field('Stream');\n    builder.field('Tid');\n    builder.field('TimeStamp');\n    builder.field('traceparentId');\n    builder.field('Date');\n    builder.field('Time');\n\n    setLunrBuilder(builder);\n  }\n\n  const IndexByTwoLevels = (l0, pos, k1, k2) => {\n    let l1 = l0[k1];\n    if (!l1) {\n      l0[k1] = {};\n      l1 = l0[k1];\n    }\n\n    if (!l1.meta) {\n      l1.meta = {};\n    }\n\n    let l2 = l1[k2];\n    if (!l2) {\n      l1[k2] = [];\n      l2 = l1[k2];\n    }\n\n    if (!l2.meta) {\n      l2.meta = {};\n    }\n\n    l2.push(pos);\n  }\n\n  const clickIncludeLunr = (e) => {\n    props.setIncludeLunr(props.getIncludeLunr ? false : true);\n  }\n\n  const BuildIndex = (pos, record) => {\n    record.id = pos;\n\n    record.TimeStamp = record[\"[0] Time Stamp\"];\n\n    if (record.TimeStamp.length > 0) {\n      let dt = new Date(record.TimeStamp);\n  \n      let yyyy = dt.getUTCFullYear().toString();\n      let MM = (dt.getUTCMonth() + 1) < 10 ? \"0\" + (dt.getUTCMonth() + 1) : (dt.getUTCMonth() + 1).toString();\n      let dd = dt.getUTCDate() < 10 ? \"0\" + dt.getUTCDate() : dt.getUTCDate().toString();\n      record.Date = yyyy + \"-\" + MM + \"-\" + dd;\n  \n      let hh = dt.getUTCHours() < 10 ? \"0\" + dt.getUTCHours() : dt.getUTCHours().toString();\n      let mm = dt.getUTCMinutes() < 10 ? \"0\" + dt.getUTCMinutes() : dt.getUTCMinutes().toString();\n      let ss = dt.getUTCSeconds() < 10 ? \"0\" + dt.getUTCSeconds() : dt.getUTCSeconds().toString();\n      record.Time = hh + \":\" + mm + \":\" + ss;\n\n      let shortTS = MM + \"/\" + dd + \" \" + hh + \":\" + mm + \":\" + ss;\n      let hourlyTS = MM + \"/\" + dd + \" \" + hh + \":00:00\";\n      let DayTS = yyyy + \"-\" + MM + \"-\" + dd;\n\n      // *********************\n  \n      IndexByTwoLevels(IndexByTime, pos, record.Date, hh + \":00:00\");\n      IndexByTwoLevels(IndexByProcess, pos, record.Pid, DayTS);\n      IndexByTwoLevels(IndexByLevel, pos, \"Level \" + record.Level, DayTS)\n      IndexByTwoLevels(IndexByStream, pos, record.Stream, DayTS)\n      IndexByTwoLevels(IndexByErrorType, pos, record.ErrorType, DayTS);\n      IndexByTwoLevels(IndexActivity, pos, record.ActivityId, \"All\");\n\n      let text = \"Monitoring Agent Version \";\n      let n = record.Message.indexOf(text);\n      if (n >= 0) {\n        n += text.length;\n        let ver = record.Message.substr(n, 8);\n        IndexByProcess[record.Pid].meta.Version = ver;\n      }\n\n      let metaTimeStamp = IndexByProcess[record.Pid].meta;\n      if (!metaTimeStamp.FirstTS || metaTimeStamp.FirstTS > shortTS)\n      {\n        metaTimeStamp.FirstTS = shortTS;\n      }\n      if(record.Stream === \"MonAgentCore.exe\")\n      {\n        metaTimeStamp.Agent = \"Core\";\n      }\n      else if(record.Stream === \"MonAgentManager.exe\")\n      {\n        metaTimeStamp.Agent = \"AgentMgr\";\n      }\n      else if(record.Stream === \"MetricsExtension\")\n      {\n        metaTimeStamp.Agent = \"ME\";\n      }\n      else if(record.Stream === \"IFxBroadcast\")\n      {\n        metaTimeStamp.Agent = \"IFx\";\n      }\n\n      text = \"Agent will exit when parent process \";\n      n = record.Message.indexOf(text);\n      if (n === 0)\n      {\n        n = text.length;\n        let m = record.Message.indexOf(\" exits.\");\n        let pid = record.Message.substr(n, m-n);\n        metaTimeStamp.Parent = pid;\n      }\n  \n      // *********************\n\n      if (props.getIncludeLunr) {\n        getLunrBuilder.add(record);\n      }\n    }\n    else\n    {\n      console.log(\"Bad Record:\", record);\n    }\n  }\n\n  const buildLunrIndex = (e) => {\n    // Finalize Index\n\n    let lunrIdx = getLunrBuilder.build();\n\n    populateMetaLevel(e.records, IndexByTime);\n    //populateMetaLevel(e.records, IndexByProcess);\n\n    // *******************\n\n    let msg = \"Done building index\";\n    setStatus(msg);\n    console.log(msg);\n\n    if (props.onUpdateIndex) {\n      let index = {\n        File: e.file,\n        Records: e.records,\n        LunrIndex: lunrIdx,\n        Index: [\n          {\n            Name: \"Date x Time\",\n            Index: IndexByTime,\n          },\n          {\n            Name: \"Process\",\n            Index: IndexByProcess,\n          },\n          {\n            Name: \"Level\",\n            Index: IndexByLevel,\n          },\n          {\n            Name: \"Stream\",\n            Index: IndexByStream,\n          },\n          {\n            Name: \"ErrorType\",\n            Index: IndexByErrorType,\n          },\n          {\n            // The prefix \"-\" hides it from display\n            Name: \"-Activity\",\n            Index: IndexActivity,\n          }\n        ]\n      }\n\n      props.onUpdateIndex(index);\n    }\n\n    return true;\n  }\n\n  const addLunrIndex = (e) => {\n    let file = e.file;\n    let prom = e.prom;\n    let records = e.records;\n    let pos = e.pos;\n\n    let endPos = Math.min(pos + 20000, records.length);\n\n    let msg = \"Indexing: \" + endPos + \" of \" + records.length;\n    setStatus(msg);\n    console.log(msg, e);\n\n    while (pos < endPos) {\n      BuildIndex(pos, records[pos]);\n      pos++;\n    }\n\n    if (pos < records.length) {\n      prom.then(() => {\n        return new Promise((resolve) => {\n          setTimeout(() => {\n            let r = addLunrIndex({\n              file: file,\n              prom: prom,\n              records: records,\n              pos: pos,\n            });\n            resolve(r);\n          }, 10);\n        });\n      });\n    }\n    else {\n      let msg = \"Building index...\";\n      setStatus(msg);\n      console.log(msg, e);\n\n      prom.then(() => {\n        return new Promise((resolve) => {\n          setTimeout(() => {\n            let r = buildLunrIndex({\n              file: file,\n              prom: prom,\n              records: records,\n              pos: pos,\n            });\n            resolve(r);\n          }, 10);\n        });\n      });\n    }\n\n    return { prom: prom, records: records, pos: pos };\n  }\n\n  const populateMetaLevel = (records, l1) => {\n    for (let n in l1) {\n      if (n === \"meta\") {\n        continue;\n      }\n\n      let l2 = l1[n];\n\n      let le1 = 0;\n      let le2 = 0;\n      let le3 = 0;\n      let le4 = 0;\n      let le5 = 0;\n\n      for (let m in l2) {\n        let recs = l2[m];\n\n        let e1 = 0;\n        let e2 = 0;\n        let e3 = 0;\n        let e4 = 0;\n        let e5 = 0;\n\n        for (let q in recs) {\n          if (q === \"meta\") {\n            continue;\n          }\n\n          let id = recs[q];\n\n          switch (records[id].Level) {\n            case \"1\":\n              e1++;\n              break;\n            case \"2\":\n              e2++;\n              break;\n            case \"3\":\n              e3++;\n              break;\n            case \"4\":\n              e4++;\n              break;\n            default:\n              e5++;\n              break;\n          }\n        }\n\n        if (e1 > 0) {\n          recs.meta.e1 = e1;\n        }\n        if (e2 > 0) {\n          recs.meta.e2 = e2;\n        }\n        if (e3 > 0) {\n          recs.meta.e3 = e3;\n        }\n        if (e4 > 0) {\n          recs.meta.e4 = e4;\n        }\n        if (e5 > 0) {\n          recs.meta.e5 = e5;\n        }\n\n        le1+= e1;\n        le2+= e2;\n        le3+= e3;\n        le4+= e4;\n        le5+= e5;\n      }\n\n      if (le1 > 0) {\n        l2.meta.e1 = le1;\n      }\n      if (le2 > 0) {\n        l2.meta.e2 = le2;\n      }\n      if (le3 > 0) {\n        l2.meta.e3 = le3;\n      }\n      if (le4 > 0) {\n        l2.meta.e4 = le4;\n      }\n      if (le5 > 0) {\n        l2.meta.e5 = le5;\n      }\n    }\n  }\n\n  const onChange = (e) => {\n    let file = e.target.files[0];\n    if (file) {\n      setStatus(\"Reading file...\");\n\n      let promResolve;\n\n      const prom = new Promise((resolve) => {\n        promResolve = resolve;\n      });\n\n      prom.then((data) => {\n        return new Promise((resolve) => {\n          setTimeout(() => {\n            let r = addLunrIndex({\n              file: file,\n              prom: prom,\n              records: data,\n              pos: 0,\n            });\n            resolve(r);\n          }, 10);\n        });\n      });\n\n      Papa.parse(file, {\n        header: true,\n        quoteChar: '\"',\n        complete: (results) => {\n          setStatus(\"Start indexing...\");\n          console.log(\"Records\", results.data.length, results.data[0], results.data[results.data.length - 1]);\n          promResolve(results.data);\n        }\n      });\n    }\n  }\n\n  let items = [];\n\n  const onFileClick = (e) => {\n    let file = document.getElementById('file');\n    file.click();\n  }\n\n  if (!getStatus) {\n    items.push(\n      <div key={items.length}>\n        <button type=\"button\" className=\"btn btn-primary\" onClick={onFileClick}>Open MAEventTable.csv</button>\n        <input id=\"file\" type=\"file\" style={{ display: \"none\" }} onChange={onChange} accept=\".csv\" />\n      </div>\n    );\n    items.push(\n      <div key={items.length}>\n        Lunr Search: {props.getIncludeLunr ? <Badge bg=\"info\" onClick={clickIncludeLunr}>On</Badge> : <Badge bg=\"secondary\" onClick={clickIncludeLunr}>Off</Badge>}\n      </div>\n    )\n  }\n  else {\n    items.push(\n      <h2 key={items.length}>{getStatus}</h2>\n    );\n  }\n\n  return (\n    <div>\n      {items}\n    </div>\n  );\n}\n\nexport default LoadFile;\n","function CheckIcon() {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-check-square\" viewBox=\"0 0 16 16\">\n            <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\" />\n            <path d=\"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z\" />\n        </svg>\n    );\n}\n\nfunction SquareIcon() {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-square\" viewBox=\"0 0 16 16\">\n            <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\" />\n        </svg>\n    );\n}\n\nfunction HeartIcon() {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-heart\" viewBox=\"0 0 16 16\">\n            <path d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\" />\n        </svg>\n    );\n}\n\nfunction HeartFillIcon() {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"red\" className=\"bi bi-heart-fill\" viewBox=\"0 0 16 16\">\n            <path fillRule=\"evenodd\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\" />\n        </svg>\n    );\n}\n\nfunction PlusSquare() {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\n            <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\" />\n            <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\" />\n        </svg>\n    );\n}\n\nfunction DashSquare() {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-dash-square\" viewBox=\"0 0 16 16\">\n            <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\" />\n            <path d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\" />\n        </svg>\n    );\n}\n\nfunction FillSquare() {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-square-fill\" viewBox=\"0 0 16 16\">\n            <path d=\"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z\" />\n        </svg>\n    );\n}\n\nfunction ArrowRightShort() {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-right-short\" viewBox=\"0 0 16 16\">\n            <path fillRule=\"evenodd\" d=\"M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z\" />\n        </svg>\n    );\n}\n\nfunction ArrowLeftShort() {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-left-short\" viewBox=\"0 0 16 16\">\n            <path fillRule=\"evenodd\" d=\"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z\" />\n        </svg>\n    );\n}\n\nfunction ReceiptIcon() {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-receipt\" viewBox=\"0 0 16 16\">\n        <path d=\"M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z\"/>\n        <path d=\"M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z\"/>\n        </svg>    \n    );\n}\nexport { CheckIcon, SquareIcon, HeartIcon, HeartFillIcon, PlusSquare, DashSquare, FillSquare, ArrowRightShort, ArrowLeftShort, ReceiptIcon };\n","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Badge from 'react-bootstrap/Badge';\nimport { HeartIcon, HeartFillIcon, ReceiptIcon } from './Icons';\n\nfunction RecordPane(props) {\n    const [getRefresh, setRefresh] = React.useState(0);\n\n    const clickFav = (o) => {\n        if (props.UpdateFavorite) {\n            props.UpdateFavorite(props.RecIndex);\n        }\n        setRefresh(getRefresh + 1);\n    }\n\n    const IsFavorite = (n) => {\n        return props.Favorite[n];\n    }\n\n    const clickShowActivity = (activityId) => {\n        if (props.UpdateActivity) {\n            props.UpdateActivity(activityId);\n        }\n    }\n\n    let funcLevel = (l) => {\n        switch (l) {\n            case '1':\n                return \"danger\";\n            case '2':\n                return \"danger\";\n            case '3':\n                return \"secondary\";\n            case '4':\n            default:\n                return \"secondary\";\n        }\n    }\n\n    let rec = props.Index.Records[props.RecIndex];\n    let md = Number(rec.MDRESULT)\n    let mdHex = (0x100000000 + ~(Math.abs(md))).toString(16)\n\n    return (\n        <Container fluid=\"xs\" className=\"recordPane mb-3\">\n            <div>\n                <small>\n                    <Badge className=\"mr-1\" pill={true} bg={funcLevel(rec.Level)}>{rec.Level}</Badge>\n                    <Badge className=\"mr-1\" bg=\"primary\">{rec.Date}</Badge>\n                    <Badge className=\"mr-1\" bg=\"primary\">{rec.Time}</Badge>\n                    <Badge className=\"mr-1\" bg=\"info\">Pid:{rec.Pid}</Badge>\n                    <Badge className=\"mr-1\" bg=\"info\">Tid:{rec.Tid}</Badge>\n                    <Badge className=\"mr-1\" bg=\"success\">Stream:{rec.Stream}</Badge>\n                    <Badge className=\"mr-1\" bg=\"success\">ErrorType:{rec.ErrorType}</Badge>\n                    <Badge className=\"mr-1\" bg=\"secondary\">{rec.Function} {rec.File}:{rec.Line}</Badge>\n                    {\n                        md !== 0\n                            ? <Badge className=\"mr-1\" bg=\"warning\">MDResult:{md >= 0 ? md : \"0x\" + mdHex}</Badge>\n                            : null\n                    }\n                    {\n                        rec.ErrorCode > 0\n                            ? <Badge className=\"mr-1\" bg=\"warning\">ErrorCode:{rec.ErrorCode}</Badge>\n                            : null\n                    }\n                    {\n                        rec.ErrorCodeMsg.length > 0\n                            ? <Badge className=\"mr-1\" bg=\"warning\">ErrorCodeMsg:{rec.ErrorCodeMsg}</Badge>\n                            : null\n                    }\n                    {\n                        rec.Instance && Number(rec.Instance) > 0\n                            ? <Badge className=\"mr-1\" bg=\"secondary\">Inst:{rec.Instance}</Badge>\n                            : null\n                    }\n                    {\n                        props.UpdateActivity\n                            ? <span className=\"mr-1\" onClick={() => clickShowActivity(rec.ActivityId)}><ReceiptIcon /></span>\n                            : null\n                    }\n                    {\n                        IsFavorite(props.RecIndex)\n                            ? <span className=\"mr-1\" onClick={clickFav}><HeartFillIcon /></span>\n                            : <span className=\"mr-1\" onClick={clickFav}><HeartIcon /></span>\n                    }\n                </small>\n            </div>\n            <div className=\"my-wordwrap\">{rec.Message}</div>\n        </Container>);\n}\n\nexport default RecordPane;\n","import React from 'react';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport RecordPane from './RecordPane';\r\n\r\nfunction ActivityPage(props) {\r\n\r\n    const [getStartPos, setStartPos] = React.useState(0);\r\n    const [getModal, setModal] = React.useState(false);\r\n\r\n    const itemsPerPage = 10;\r\n\r\n    let i = 0;\r\n    for (i = 0; i < props.Index.Index.length; i++)\r\n    {\r\n        if (props.Index.Index[i].Name === \"-Activity\")\r\n        {\r\n            break;\r\n        }\r\n    }\r\n\r\n    let actid = props.ActivityId;\r\n    let actlist = props.Index.Index[i].Index[actid];\r\n\r\n    const clickNext = () =>\r\n    {\r\n        let n = getStartPos + itemsPerPage;\r\n        if (n <= actlist.All.length)\r\n        {\r\n            setStartPos(n);\r\n        }\r\n    }\r\n\r\n    const clickPrev = () =>\r\n    {\r\n        setStartPos(Math.max(0, getStartPos - itemsPerPage));\r\n    }\r\n\r\n    const clickShowModal = () =>\r\n    {\r\n        setModal(true);\r\n    }\r\n\r\n    let pages = [];\r\n    \r\n    if (getStartPos >= 0)\r\n    {\r\n        pages.push(<div\r\n            key={pages.length}\r\n            >\r\n                ActivityID: <b>{actid}</b>\r\n            </div>\r\n            )\r\n\r\n        pages.push(\r\n            <div key={pages.length}>\r\n                <Badge className=\"btn mr-1\" bg=\"success\" onClick={clickPrev}>Prev</Badge>\r\n                <Badge className=\"btn mr-1\" pill={true}>{getStartPos/itemsPerPage + 1}</Badge>\r\n                <Badge className=\"btn mr-1\" bg=\"secondary\" onClick={clickShowModal}>/ {Math.floor(actlist.All.length/itemsPerPage) + 1}</Badge>\r\n                <Badge className=\"btn mr-1\" bg=\"success\" onClick={clickNext}>Next</Badge>\r\n                <hr/>\r\n            </div>\r\n        )\r\n\r\n        if (getModal)\r\n        {\r\n            let items = [];\r\n\r\n            for (let p = 0; p < actlist.All.length; p += itemsPerPage)\r\n            {\r\n                items.push(\r\n                    <Badge key={items.length} className=\"btn mr-1\" pill={true}\r\n                        onClick={() => { setStartPos(p); setModal(false); }}\r\n                        >\r\n                        {p/itemsPerPage + 1}\r\n                    </Badge>\r\n                )\r\n            }\r\n\r\n            pages.push(\r\n                <Modal key={pages.length} show={getModal} onHide={() => {setModal(false)}}>\r\n                    <Modal.Body>\r\n                        {items}\r\n                    </Modal.Body>\r\n                </Modal>\r\n            )\r\n        }\r\n\r\n        let n = 0;\r\n        for (let m = getStartPos; m < actlist.All.length; m++)\r\n        {\r\n            if (n >= itemsPerPage) break;\r\n\r\n            pages.push(<RecordPane\r\n                key={pages.length}\r\n                Index={props.Index}\r\n                RecIndex={actlist.All[m]}\r\n                Favorite={props.Favorite}\r\n                UpdateFavorite={props.UpdateFavorite}\r\n            ></RecordPane>);\r\n\r\n            n++;\r\n        }\r\n    }\r\n\r\n    return <div>\r\n        {pages}\r\n        </div>\r\n}\r\n\r\nexport default ActivityPage;\r\n","import React from 'react';\nimport { Builder } from 'lunr';\nimport './App.css';\n\nfunction SearchPane(props) {\n  const [getStatus, setStatus] = React.useState(\"\");\n  const [getSearchText, setSearchText] = React.useState(\"\");\n  const [getRefresh, setRefresh] = React.useState(0);\n\n  const changeSearchText = (e) => {\n    setSearchText(e.target.value);\n  }\n\n  const onKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      var text = getSearchText;\n      //var text = document.getElementById('searchterm').value;\n      console.log(\"Search Text:\", text);\n\n      console.log(\"Building Index...\");\n\n      let builder = new Builder();\n      builder.ref('id');\n      builder.field('ActivityId');\n      builder.field('ErrorCode');\n      builder.field('ErrorCodeMsg');\n      builder.field('ErrorType');\n      builder.field('File');\n      builder.field('Function');\n      builder.field('Instance');\n      builder.field('Level');\n      builder.field('Line');\n      builder.field('MDRESULT');\n      builder.field('Message');\n      builder.field('Pid');\n      builder.field('Stream');\n      builder.field('Tid');\n      builder.field('TimeStamp');\n      builder.field('traceparentId');\n      builder.field('Date');\n      builder.field('Time');\n\n      for (let n in props.Records)\n      {\n        if (n === \"meta\") {\n          continue;\n        }\n        let id = props.Records[n];\n        let rec = props.Index.Records[id];\n        builder.add(rec);\n      }\n\n      let idx = builder.build();\n\n      // ***************\n\n      let searchResults = [];\n\n      try {\n        let results = idx.search(text);\n        setStatus('\"' + text + '\" Found: ' + results.length);\n        \n        for (let n in results)\n        {\n          searchResults.push(Number(results[n].ref));\n        }\n\n        props.UpdateSearchResults(text, searchResults);\n      }\n      catch(e) {\n        console.log(\"Search Failed:\", e);\n        setStatus(\"Failed: \" + e.message);\n        props.UpdateSearchResults(\"\", []);\n      }\n\n      setSearchText(\"\");\n    }\n  }\n\n  if (props.Records.length !== getRefresh)\n  {\n    setRefresh(props.Records.length);\n    setStatus(\"\");\n    setSearchText(\"\");\n  }\n\n  var items = [];\n\n  items.push(\n    <span key={items.length}>\n      Search:\n      <span className=\"mr-1 ml-1\">\n        <input id='searchterm' type=\"text\" size=\"16\" value={getSearchText} onChange={changeSearchText} onKeyDown={onKeyDown}></input>\n      </span>\n      <span>{getStatus}</span>\n    </span>\n  );\n\n  return (\n    <span>\n      {items}\n    </span>\n  );\n}\n\nexport default SearchPane;\n","import React from 'react';\nimport Badge from 'react-bootstrap/Badge';\nimport Modal from 'react-bootstrap/Modal';\nimport ActivityPage from './ActivityPage';\nimport RecordPane from './RecordPane';\nimport SearchPane from './SearchPane';\nimport { HeartFillIcon } from './Icons';\n\nfunction RecordPage(props) {\n    const [getItemsPerPage, setItemsPerPage] = React.useState(50);\n    const [getPage, setPage] = React.useState(1);\n    const [getFilterSearch, setFilterSearch] = React.useState(false);\n    const [getLocalSearch, setLocalSearch] = React.useState([]);\n    const [getLocalSearchText, setLocalSearchText] = React.useState(\"\");\n    const [getModalShow, setModalShow] = React.useState(false);\n    const [getActivityModal, setActivityModal] = React.useState(null);\n\n    const clickItemsPerPage = (e, num) => {\n        setItemsPerPage(num);\n        setPage(1);\n    }\n\n    const clickPage = (e, id) => {\n        let element = document.getElementById(\"top\");\n        element.scrollIntoView({block: \"start\"});\n        setPage(id);\n        setModalShow(false);\n    }\n\n    const clickFilterSearch = (e) => {\n        setFilterSearch(getFilterSearch ? false : true);\n    }\n\n    const updateSearchResults = (searchText, results) => {\n        setLocalSearchText(searchText);\n        setLocalSearch(results);\n        setFilterSearch(true);\n    }\n\n    const clickTop = () => {\n        let element = document.getElementById(\"top\");\n        element.scrollIntoView({block: \"start\"});\n    }\n\n    const clickNext = () => {\n        setPage(getPage + 1);\n        let element = document.getElementById(\"top\");\n        element.scrollIntoView({block: \"start\"});\n    }\n\n    const clickPrev = () => {\n        setPage(Math.max(getPage - 1, 1));\n        let element = document.getElementById(\"top\");\n        element.scrollIntoView({block: \"start\"});\n    }\n\n    const clickShowActivity = (actId) => {\n        setActivityModal(actId);\n    }\n\n    let records = [];\n    let searchFound = 0;\n    for (let n in props.Records) {\n        if (n === \"meta\") {\n            continue;\n        }\n\n        let id = props.Records[n];\n\n        let found = false;\n        if (getLocalSearch.length > 0)\n        {\n            found = getLocalSearch.find((rec) => rec === id);\n        }\n        else\n        {\n            found = props.SearchRecords.find((rec) => rec === id);\n        }\n\n        if (found) {\n            searchFound++;\n        }\n\n        if (getFilterSearch) {\n            if (found) {\n                records.push(id);\n            }\n        }\n        else {\n            records.push(id);\n        }\n    }\n\n    let pgs = 1 + Math.trunc(records.length / getItemsPerPage);\n\n    if (getPage > pgs) {\n        setPage(1);\n    }\n\n    let pages = [];\n\n    if (props.Status) {\n        pages.push(<div key={pages.length}>\n            {props.Status}\n        </div>)\n    }\n\n    let modalPages = [];\n    for (let i = 1; i <= pgs; i++) {\n        let hasFav = false;\n\n        let pageStart = (i-1)*getItemsPerPage;\n        for (let n = 0; n < getItemsPerPage; n++)\n        {\n            let r = props.Records[pageStart + n];\n            if (props.Favorite[r])\n            {\n                hasFav = true;\n                break;\n            }\n        }\n\n        modalPages.push(\n            <Badge key={modalPages.length} \n                className=\"btn mr-1\"\n                pill={true} \n                onClick={ (e) => { clickPage(e,i) }}>\n                {i} {hasFav?<HeartFillIcon />:\"\"}\n            </Badge>\n        );\n    }\n\n    pages.push(\n        <Modal key={pages.length} show={getModalShow} onHide={() => {setModalShow(false)}}>\n            <Modal.Body>\n                {modalPages}\n            </Modal.Body>\n        </Modal>\n    )\n\n    if (getActivityModal)\n    {\n        pages.push(\n            <Modal key={pages.length} className=\"modal-xl\" show={true} onHide={() => {setActivityModal(null)}}>\n                <Modal.Body>\n                    <ActivityPage\n                        Index={props.Index}\n                        ActivityId={getActivityModal}\n                        Favorite={props.Favorite}\n                        UpdateFavorite={props.UpdateFavorite}\n                        >\n                    </ActivityPage>\n                </Modal.Body>\n            </Modal>\n        )\n    }\n\n    pages.push(\n        <div key={pages.length}>\n            <Badge className=\"btn mr-1\" \n                bg={getFilterSearch?\"info\":\"secondary\"} \n                onClick={clickFilterSearch}>\n                Search {searchFound}: {getFilterSearch ? \"On\" : \"Off\" }\n                </Badge>\n            <SearchPane\n                Index={props.Index}\n                Records={props.Records}\n                SearchText={getLocalSearchText}\n                UpdateSearchResults={updateSearchResults}\n            />\n        </div>\n    );\n\n    pages.push(\n        <div key={pages.length}>\n            <Badge className=\"btn mr-1\" bg=\"success\" onClick={clickPrev}>Prev</Badge>\n            <Badge className=\"btn mr-1\" pill={true} onClick={clickTop}>{getPage}</Badge>\n            <Badge className=\"btn mr-1\" bg=\"secondary\" onClick={()=>{setModalShow(true)}}>/ {pgs}</Badge>\n            <Badge className=\"btn mr-1\" bg=\"success\" onClick={clickNext}>Next</Badge>\n            <span style={{ marginLeft: \"20px\" }}></span>\n            <Badge className=\"btn mr-1\" bg={getItemsPerPage === 10 ? \"success\" : \"secondary\"} onClick={(e) => clickItemsPerPage(e, 10)}>10/pg</Badge>\n            <Badge className=\"btn mr-1\" bg={getItemsPerPage === 50 ? \"success\" : \"secondary\"} onClick={(e) => clickItemsPerPage(e, 50)}>50/pg</Badge>\n            <Badge className=\"btn mr-1\" bg={getItemsPerPage === 100 ? \"success\" : \"secondary\"} onClick={(e) => clickItemsPerPage(e, 100)}>100/pg</Badge>\n        </div>\n    );\n\n    pages.push(<hr key={pages.length}></hr>);\n\n    let items = [];\n\n    items.push(<div key={items.length} id=\"top\"></div>);\n\n    let start = (getPage - 1) * getItemsPerPage;\n    for (let i = 0; i < getItemsPerPage; i++) {\n        let pos = start + i;\n        if (pos < records.length) {\n            items.push(<RecordPane\n                key={items.length}\n                Index={props.Index}\n                RecIndex={records[pos]}\n                Favorite={props.Favorite}\n                UpdateFavorite={props.UpdateFavorite}\n                UpdateActivity={clickShowActivity}\n            ></RecordPane>);\n        }\n    }\n\n    let topHeight = 100;\n\n    return <div>\n        <div className=\"mb-4\" style={{ height: topHeight+\"px\" }}>\n            {pages}\n        </div>\n        <div className=\"scrollable\" style={{ height: (window.innerHeight - topHeight - 60)+\"px\" }}>\n            {items}\n        </div>\n    </div>;\n}\n\nexport default RecordPage;\n","import React from 'react';\nimport { Badge } from 'react-bootstrap';\nimport { SquareIcon, PlusSquare, DashSquare, FillSquare, HeartFillIcon } from './Icons';\n\nfunction IndexPane(props) {\n    const [getRefresh, setRefresh] = React.useState(0);\n    const [getLevel1State, setLevel1State] = React.useState({});\n\n    const updateLevel1State = (e, item) => {\n        let state = getLevel1State;\n        state[item] = state[item] ? false : true;\n        setLevel1State(state);\n        setRefresh(getRefresh + 1);\n    }\n\n    const updateLevel2State = (e, selKey, recs) => {\n        var fields = selKey.split(\"|**|\");\n        props.onChange(selKey, recs, \"Show: \" + fields[0] + \", \" + fields[1] + \", \" + fields[2]);\n        setRefresh(getRefresh + 1);\n    }\n\n    let selParts = props.Selection.split('|**|');\n\n    let items = [];\n\n    let icon0 = getLevel1State[\"***\"] ? DashSquare() : PlusSquare();\n    items.push(\n        <div key={items.length} onClick={(e) => updateLevel1State(e, \"***\")}>\n            {icon0} {selParts[0] === props.Title ? (<b>{props.Title}</b>) : props.Title}\n        </div>\n    )\n    if (getLevel1State[\"***\"]) {\n\n        let favs = [];\n        Object.keys(props.Favorite).forEach((k) => {\n            favs.push(Number(k));\n        });\n\n        let c1 = {};\n        Object.keys(props.Index2Level).forEach((k1) => {\n            if (k1 !== \"meta\") {\n                let l1 = props.Index2Level[k1];\n                let meta1 = l1.meta;\n\n                c1[k1] = {\n                    key: k1,\n                    children: [],\n                    metaagg: {\n                        Fav: 0,\n                    },\n                    meta: meta1,\n                }\n\n                let d1 = c1[k1];\n\n                let c2 = {};\n                Object.keys(l1).forEach((k2) => {\n                    if (k2 !== \"meta\") {\n                        let l2 = l1[k2];\n                        let meta2 = l2.meta;\n\n                        c2[k2] = {\n                            key: k2,\n                            children: l2,\n                            metaagg: {\n                                Fav: 0,\n                            },\n                            meta: meta2,\n                        }\n\n                        let d2 = c2[k2];\n\n                        for (let n in l2) {\n                            let id = l2[n];\n\n                            if (favs.indexOf(id) !== -1) {\n                                d1.metaagg.Fav++;\n                                d2.metaagg.Fav++;\n                            }\n                        }\n                    }\n                });\n\n                // Level 2 sort order\n                d1.children = Object.values(c2)\n                    .sort((a, b) => {\n                        if (a.meta.FirstTS) {\n                            if (a.meta.FirstTS > b.meta.FirstTS) return 1;\n                            if (a.meta.FirstTS < b.meta.FirstTS) return -1;\n                        }\n\n                        if (a.key > b.key) return 1;\n                        if (a.key < b.key) return -1;\n                        return 0;\n                    });\n            }\n        });\n\n        // Level 1 sort order\n        let display1 = Object.values(c1)\n            .sort((a, b) => {\n                if (a.meta.FirstTS) {\n                    if (a.meta.FirstTS > b.meta.FirstTS) return 1;\n                    if (a.meta.FirstTS < b.meta.FirstTS) return -1;\n                }\n\n                if (a.key > b.key) return 1;\n                if (a.key < b.key) return -1;\n                return 0;\n            });\n\n        for (let n in display1) {\n            let o1 = display1[n];\n            let k1 = o1.key;\n            let state = getLevel1State;\n            let icon = state[k1] ? DashSquare() : PlusSquare();\n\n            let metaicons = [];\n            let meta = o1.meta;\n            if (meta) {\n                Object.keys(meta).forEach((m) => {\n                    if (m === \"Agent\")\n                    {\n                        metaicons.push(\n                            <Badge key={metaicons.length} pill={true} bg=\"success\" className=\"mr-1\">\n                                {meta[m]}\n                            </Badge>\n                        );\n                    } else {\n                        metaicons.push(\n                            <Badge key={metaicons.length} pill={true} bg=\"info\" className=\"mr-1\">\n                                {m}:{meta[m]}\n                            </Badge>\n                        );\n                    }\n                });\n            }\n\n            Object.keys(o1.metaagg).forEach((m) => {\n                let n = o1.metaagg[m];\n                if (n > 0) {\n                    if (m === \"Fav\") {\n                        metaicons.push(\n                            <span key={metaicons.length}>\n                                <HeartFillIcon />\n                                {n}\n                            </span>\n                        );\n                    } else {\n                        metaicons.push(\n                            <Badge key={metaicons.length} pill={true} bg=\"info\" className=\"mr-1\">\n                                {m}:{n}\n                            </Badge>\n                        );\n                    }\n                }\n            });\n\n            items.push(\n                <div key={items.length} className=\"ml-indent1\" onClick={(e) => updateLevel1State(e, k1)}>\n                    {icon} {selParts[0] === props.Title && selParts[1] === k1 ? (<b>{k1}</b>) : k1} <small>{metaicons}</small>\n                </div>\n            );\n\n            if (state[k1]) {\n                for (let m in o1.children) {\n                    let o2 = o1.children[m];\n                    let k2 = o2.key;\n                    let key = props.Title + \"|**|\" + k1 + \"|**|\" + k2;\n                    let icon2 = props.Selection === key ? FillSquare() : SquareIcon();\n                    let recs = o2.children;\n\n                    let metaicons2 = [];\n                    let meta2 = o2.meta;\n                    if (meta2) {\n                        Object.keys(meta2).forEach((m) => {\n                            metaicons2.push(\n                                <Badge key={metaicons2.length} pill={true} bg=\"info\" className=\"mr-1\">\n                                    {m}:{meta2[m]}\n                                </Badge>\n                            );\n                        });\n                    }\n\n                    Object.keys(o2.metaagg).forEach((m) => {\n                        let n = o2.metaagg[m];\n                        if (n > 0) {\n                            if (m === \"Fav\") {\n                                metaicons2.push(\n                                    <span key={metaicons2.length}>\n                                        <HeartFillIcon />\n                                        {n}\n                                    </span>\n                                );\n                            } else {\n                                metaicons2.push(\n                                    <Badge key={metaicons2.length} pill={true} bg=\"info\" className=\"mr-1\">\n                                        {m}:{n}\n                                    </Badge>\n                                );\n                            }\n                        }\n                    });\n\n                    items.push(\n                        <div key={items.length} className=\"ml-indent2\"\n                            onClick={(e) => updateLevel2State(e, key, recs)}>\n                            {icon2} {props.Selection === key ? <b>{k2}</b> : k2} {metaicons2}\n                        </div>\n                    );\n                }\n            }\n        }\n    }\n\n    return (\n        <div>\n            {items}\n        </div>\n    );\n}\n\nexport default IndexPane;","import React from 'react';\nimport RecordPage from './RecordPage';\nimport IndexPane from './IndexPane';\nimport { HeartFillIcon, SquareIcon, FillSquare, ArrowLeftShort, ArrowRightShort } from './Icons';\nimport { Badge } from 'react-bootstrap';\n\nimport './App.css';\n\nfunction Viewer(props) {\n    const [getStatus, setStatus] = React.useState();\n    const [getSelection, setSelection] = React.useState(\"|**|\");\n    const [getRecords, setRecords] = React.useState([]);\n    const [getSearchRecords, setSearchRecords] = React.useState([]);\n    const [getSearchText, setSearchText] = React.useState(\"\");\n    const [getFavorite, setFavorite] = React.useState({});\n    const [getColSize, setColSize] = React.useState(2);\n    const [getRefresh, setRefresh] = React.useState(0);\n\n    const onKeyDown = (e) => {\n        if (e.keyCode === 13) {\n            let records = [];\n\n            let text = getSearchText;\n            if (text.length > 0) {\n                if (text.indexOf(':') === -1) {\n                    text = \"Message:\" + text;\n                }\n\n                let results = [];\n\n                try {\n                    results = props.Index.LunrIndex.search(text);\n                    setStatus(\"[\" + text + \"] found \" + results.length + \" items.\");\n                }\n                catch (e) {\n                    console.log(\"Search failed\", e);\n                    setStatus(\"[\" + text + \"] FAILED: \" + e.message);\n                }\n\n                for (let n in results) {\n                    records.push(results[n].ref);\n                }\n            }\n\n            setRecords(records);\n            setSearchRecords(records);\n            setSelection(\"Search|**|None\");\n        }\n    }\n\n    const onChange = (e) => {\n        setSearchText(e.target.value);\n    }\n\n    const clickSearchPane = (e) => {\n        let text = getSearchText;\n        if (text.indexOf(':') === -1) {\n            text = \"Message:\" + text;\n        }\n\n        setRecords(getSearchRecords);\n        setSelection(\"Search|**|None\");\n        setStatus(\"[\" + text + \"] found \" + getSearchRecords.length + \" items.\");\n        setRefresh(getRefresh + 1);\n    }\n\n    const updateRecords = (selKey, e, status) => {\n        setSelection(selKey);\n        setRecords(e);\n        setStatus(status);\n        setRefresh(getRefresh + 1);\n    }\n\n    const updateFavorite = (e) => {\n        var fav = getFavorite;\n        if (fav[e]) {\n            delete fav[e];\n        }\n        else {\n            fav[e] = true;\n        }\n        setFavorite(fav);\n        setRefresh(getRefresh + 1);\n    }\n\n    const clickFavoritePane = (e) => {\n        var records = [];\n        var keys = Object.keys(getFavorite);\n        for (var i in keys) {\n            records.push(keys[i]);\n        }\n        setRecords(records);\n        setSelection(\"Favorite|**|None\");\n        setStatus(\"Show Favorites\");\n        setRefresh(getRefresh + 1);\n    }\n\n    // *******************\n\n    let sideItems = [];\n\n    sideItems.push(\n        <div key={sideItems.length} style={{ textAlign: 'right'}}>\n            <span className=\"mr-1\" onClick={()=>setColSize(Math.max(getColSize-1, 2))}><ArrowLeftShort/></span>\n            <span className=\"mr-1\" onClick={()=>setColSize(Math.min(getColSize+1, 5))}><ArrowRightShort/></span>\n        </div>\n    );\n\n    if (props.getIncludeLunr) {\n        sideItems.push(\n            <div onClick={clickSearchPane} key={sideItems.length}>\n                <div className=\"mr-1\" onClick={clickFavoritePane}>\n                    <span className=\"mr-1\">{getSelection.startsWith(\"Search|**|\") ? (<b>Search</b>) : (<span>Search</span>)}</span>\n                    <Badge pill={true} bg=\"info\">Found: {getSearchRecords.length}</Badge>\n                </div>\n                <div className=\"ml-indent1\">\n                    <input id='searchterm' type=\"text\" size=\"16\" onChange={onChange} onKeyDown={onKeyDown}></input>\n                </div>\n            </div>\n        );\n    }\n\n    let isFavoriteSelected = getSelection.startsWith(\"Favorite|**|\");\n    sideItems.push(\n        <div key={sideItems.length}>\n            <span className=\"mr-1\">{isFavoriteSelected ? <FillSquare /> : <SquareIcon />} </span>\n            <span className=\"mr-1\" onClick={clickFavoritePane}>{isFavoriteSelected ? (<b>Favorite</b>) : (<span>Favorite</span>)}</span>\n            <Badge pill={true} bg=\"secondary\"><HeartFillIcon /> {Object.keys(getFavorite).length}</Badge>\n        </div>\n    );\n\n    for (let n in props.Index.Index) {\n        let idx = props.Index.Index[n];\n\n        if (idx.Name.startsWith(\"-\"))\n        {\n            continue;\n        }\n\n        sideItems.push(\n            <IndexPane key={sideItems.length}\n                Records={props.Records}\n                Index2Level={idx.Index}\n                Selection={getSelection}\n                Favorite={getFavorite}\n                onChange={updateRecords}\n                Title={idx.Name}\n            />\n        );\n    }\n\n    // *******************\n\n    let items = [];\n\n    items.push(\n        <RecordPage\n            key={items.length}\n            Index={props.Index}\n            Records={getRecords}\n            SearchRecords={getSearchRecords}\n            Favorite={getFavorite}\n            Status={getStatus}\n            UpdateFavorite={updateFavorite}\n        />\n    );\n\n    let topHeight = 30;\n\n    return (\n        <div className=\"container-fluid\">\n            <div className=\"row\" style={{ height: topHeight + \"px\", borderBottomStyle: \"solid\", borderWidth: \"1px\", backgroundColor: \"lightgray\" }}>\n                <center><b>{props.Index.File.name}</b> <small><Badge pill={true} bg=\"info\">Records: {props.Index.Records.length}</Badge></small></center>\n            </div>\n            <div className=\"row\">\n                <div className={\"col-\" + getColSize + \" scrollable\"} style={{ height: (window.innerHeight - topHeight) + \"px\", borderRightStyle: \"solid\", borderWidth: \"1px\" }}>\n                    {sideItems}\n                </div>\n                <div className={\"col-\" + (12 - getColSize)} style={{ height: (window.innerHeight - topHeight) }}>\n                    {items}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Viewer;\n","import React from 'react';\nimport LoadFile from './LoadFile.js';\nimport Viewer from './Viewer.js';\nimport './App.css';\n\nfunction App() {\n  const [getIndex, setIndex] = React.useState();\n  const [getIncludeLunr, setIncludeLunr] = React.useState(false);\n\n  const onUpdateIndex = (e) =>\n  {\n    setIndex(e);\n  }\n\n  var items = [];\n\n  if (getIndex)\n  {\n    items.push(\n      <Viewer key={items.length} Index={getIndex} getIncludeLunr={getIncludeLunr}/>\n    );\n  }\n  else\n  {\n    items.push(\n      <div key={items.length} className=\"container-fluid vcenter d-flex align-items-center justify-content-center\">\n        <LoadFile onUpdateIndex={onUpdateIndex} getIncludeLunr={getIncludeLunr} setIncludeLunr={setIncludeLunr}/>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {items}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}